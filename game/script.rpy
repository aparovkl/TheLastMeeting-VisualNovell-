# Вы можете расположить сценарий своей игры в этом файле.

# Определение персонажей игры.
define l = Character('Лили', color="#33ff00")
define y = Character('Ты', color='#ffe100')

# Вместо использования оператора image можете просто
# складывать все ваши файлы изображений в папку images.
# Например, сцену bg room можно вызвать файлом "bg room.png",
# а eileen happy — "eileen happy.webp", и тогда они появятся в игре.

init:
    $ left2 = Position(xalign=0.2, yalign=1.1)
    $ right2 = Position(xalign=0.8, yalign=1.1)

# Игра начинается здесь:
label start:
    play music('1st scene.mp3')
    scene beach scene
    show you at right2
    with dissolve
    'Ты стоишь у кромки воды, глядя на уходящее солнце. Внезапно рядом появляется Лили — девушка, которую он не видел много лет.'

    show lili at left2
    with dissolve

    y "Я не верю своим глазам... Лили? Это не может быть..."

    l "Давно не виделись, правда?"

    y "Это ты... Как? Я думал, ты уехала... или..."

    l "Я пришла, чтобы попрощаться. Помнишь, как мы говорили, что встретимся здесь в последний раз?"

    menu:
        "Что-же ответить?"

        "Я не хочу прощаться.":
            jump i_dont_want

        "Я думал, ты забыла об этом.":
            jump forgot
    return

label i_dont_want:
    show lili at left2

    y "Я не хочу прощаться, Лили. Это всё так странно. Почему именно сейчас?"

    l "Некоторые встречи предопределены судьбой. Мы должны были встретиться здесь ещё раз, чтобы ты мог двигаться дальше."
    jump pre_phase2
    return
label forgot:
    show lili at left2

    y "Я думал, ты забыла об этом обещании... Ты исчезла без следа."
    jump pre_phase2
    return
label pre_phase2:
    l "Иногда забывание — это спасение. Но я знала, что ты не забудешь."
    jump phase2
    return

label phase2:
    play music('piano.mp3')
    scene beach scene
    show lili at left2
    show you at right2
    with fade

    y "Ты была тем, кто изменил всё в моей жизни. Но я так и не понял, почему ты ушла..."

    l "Я должна была уйти. Моя история — это не то, что можно изменить. Но твоё будущее ещё открыто."

    y "Что ты имеешь в виду?"

    l "Ты слишком долго жил в прошлом. Я не хотела, чтобы моё исчезновение стало твоим якорем."
    menu:
        'Что-же ответить?'

        "Ты была всем для меня.":
            jump you_has_been_all_for_me
        "Как мне двигаться дальше?":
            jump how_walk_next
    return

label you_has_been_all_for_me:

    y "Ты была всем для меня. Без тебя я потерял смысл..."

    l "Именно поэтому я вернулась. Чтобы ты нашёл новый смысл, оставив старые тени позади."
    jump phase3
    return

label how_walk_next:

    y "Как мне двигаться дальше, если я всё время думаю о тебе?"

    l "Позволь прошлому остаться в прошлом. Ты заслуживаешь счастья, а не вечной тоски."
    jump phase3
    return

label phase3:
    play music('last music.mp3')
    scene beach scene_2nd
    show lili at left2
    show you at right2
    with fade

    y "Это наша последняя встреча, да?"

    l "Да. Но ты всегда сможешь помнить меня. Идти дальше не значит забывать."

    y "Что будет дальше?"

    l "Ты вернёшься к своей жизни, но теперь без этого груза на сердце."
    menu:
        'Что-же сказать?'

        "Я готов двигаться дальше.":
            jump i_can
        "Мне будет трудно, но я попробую.":
            jump i_can_but_it_hard
    return

label i_can:

    y "Я готов. Спасибо тебе за всё."

    l "Ты сильнее, чем думаешь. Прощай."
    jump ending
    return

label i_can_but_it_hard:

    y "Мне будет трудно, но я постараюсь..."

    l "Ты справишься. Прощай."

    'Лили уходит, её силуэт исчезает в тенях, оставляя ГГ одного на пляже.'
    show lili
    with dissolve

    y "Последняя встреча. Но не последняя надежда..."
    with fade
    jump ending
    return

label ending:
    scene black
    with fade
    'Поздравляю! Ты прошел мою визуальную новеллу!'
    return